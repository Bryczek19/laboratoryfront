(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{7607:function(e,a,t){Promise.resolve().then(t.bind(t,7382))},7382:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d},dynamic:function(){return l}});var s=t(7437),r=t(7138),n=t(6463),u=t(2265),i=t(303),o=t(7619);let l="force-dynamic";function c(){let e=(0,n.useRouter)(),a=(0,n.useSearchParams)(),t=(0,u.useMemo)(()=>a.get("returnUrl")||"/dashboard",[a]),[l,c]=(0,u.useState)(""),[d,m]=(0,u.useState)(""),[f,p]=(0,u.useState)(!1),[h,b]=(0,u.useState)(""),x=async a=>{a.preventDefault(),b(""),p(!0);try{let a=await (0,i.e5)(o.I,l,d);if(!a.user.emailVerified){let t=a.user.email||l;await (0,i.w7)(o.I),e.replace("/user/verify?email=".concat(encodeURIComponent(t)));return}e.replace(t)}catch(e){b((null==e?void 0:e.message)||"Błąd logowania"),p(!1)}};return(0,s.jsxs)("div",{className:"max-w-xl",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Sign in"}),(0,s.jsxs)("form",{className:"flex flex-col gap-3",onSubmit:x,children:[(0,s.jsx)("label",{className:"text-sm",children:"Email"}),(0,s.jsx)("input",{className:"border p-2",placeholder:"Email",value:l,onChange:e=>c(e.target.value),autoComplete:"email"}),(0,s.jsx)("label",{className:"text-sm",children:"Password"}),(0,s.jsx)("input",{className:"border p-2",placeholder:"Password",type:"password",value:d,onChange:e=>m(e.target.value),autoComplete:"current-password"}),h&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:h}),(0,s.jsx)("button",{"data-testid":"signin-submit",className:"border p-2 bg-gray-900 text-white disabled:opacity-60",disabled:f,type:"submit",children:f?"Logowanie...":"Sign in"})]}),(0,s.jsxs)("div",{className:"mt-4 text-sm",children:["Nie masz konta?"," ",(0,s.jsx)(r.default,{className:"underline",href:"/user/register",children:"Zarejestruj się"})]})]})}function d(){return(0,s.jsx)(u.Suspense,{fallback:(0,s.jsx)("div",{className:"p-6",children:"Ładowanie..."}),children:(0,s.jsx)(c,{})})}},7619:function(e,a,t){"use strict";t.d(a,{I:function(){return i},db:function(){return o}});var s=t(5236),r=t(303),n=t(9842);let u=(0,s.C6)().length?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyAq6uVpLDKzYHmbnBujbdPTjQBvCN19kzc",authDomain:"laboratoryfront.firebaseapp.com",projectId:"laboratoryfront",storageBucket:"laboratoryfront.firebasestorage.app",messagingSenderId:"721271593414",appId:"1:721271593414:web:53314b862d1aad224f3ac7",measurementId:"G-QMCDBS8YW2"}),i=(0,r.v0)(u),o=(0,n.ad)(u)},7138:function(e,a,t){"use strict";t.d(a,{default:function(){return r.a}});var s=t(231),r=t.n(s)},6463:function(e,a,t){"use strict";var s=t(1169);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[609,324,231,67,971,23,744],function(){return e(e.s=7607)}),_N_E=e.O()}]);
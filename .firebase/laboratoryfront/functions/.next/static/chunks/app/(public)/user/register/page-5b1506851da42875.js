(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{9993:function(e,a,t){Promise.resolve().then(t.bind(t,7283))},7283:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var r=t(7437),s=t(2265),n=t(7138),u=t(303),i=t(7619),l=t(6463),o=t(9317);function d(){let e=(0,l.useRouter)(),{user:a,loading:t}=(0,o.a)(),[d,c]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[b,j]=(0,s.useState)(!1),[x,w]=(0,s.useState)(""),v=(0,s.useMemo)(()=>d.trim(),[d]);if(t)return(0,r.jsx)("div",{className:"p-6",children:"Ładowanie..."});if(a)return(0,r.jsxs)("div",{className:"max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Rejestracja"}),(0,r.jsxs)("p",{className:"text-sm text-slate-600 mb-4",children:["Jesteś już zalogowany jako ",(0,r.jsx)("b",{children:a.email}),"."]}),(0,r.jsx)(n.default,{className:"underline",href:"/dashboard",children:"Przejdź do Dashboard"})]});let g=async a=>{if(a.preventDefault(),w(""),m!==f){w("Hasła nie są takie same.");return}if(m.length<6){w("Hasło musi mieć min. 6 znak\xf3w.");return}j(!0);try{let a=await (0,u.Xb)(i.I,v,m);await (0,u.w$)(a.user),await (0,u.w7)(i.I);let t=a.user.email||v;e.replace("/user/verify?email=".concat(encodeURIComponent(t)))}catch(e){w(function(e){let a=(null==e?void 0:e.code)||"";return"auth/email-already-in-use"===a?"Ten adres email jest już zajęty.":"auth/invalid-email"===a?"Nieprawidłowy adres email.":"auth/weak-password"===a?"Hasło jest zbyt słabe (min. 6 znak\xf3w).":"auth/operation-not-allowed"===a?"Rejestracja email/hasło nie jest włączona w Firebase.":"auth/network-request-failed"===a?"Błąd sieci. Sprawdź połączenie internetowe.":(null==e?void 0:e.message)||"Błąd rejestracji"}(e))}finally{j(!1)}};return(0,r.jsxs)("div",{className:"max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Register"}),(0,r.jsxs)("form",{onSubmit:g,className:"flex flex-col gap-3",children:[(0,r.jsx)("label",{className:"text-sm",children:"Email"}),(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"border p-2",value:d,onChange:e=>c(e.target.value),required:!0,autoComplete:"email"}),(0,r.jsx)("label",{className:"text-sm",children:"Hasło"}),(0,r.jsx)("input",{type:"password",placeholder:"Hasło",className:"border p-2",value:m,onChange:e=>h(e.target.value),required:!0,autoComplete:"new-password"}),(0,r.jsx)("label",{className:"text-sm",children:"Powt\xf3rz hasło"}),(0,r.jsx)("input",{type:"password",placeholder:"Powt\xf3rz hasło",className:"border p-2",value:f,onChange:e=>p(e.target.value),required:!0,autoComplete:"new-password"}),x&&(0,r.jsx)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:x}),(0,r.jsx)("button",{className:"border p-2 bg-gray-900 text-white disabled:opacity-60",disabled:b,type:"submit",children:b?"Tworzenie konta...":"Register"})]}),(0,r.jsxs)("div",{className:"mt-4 text-sm",children:["Masz już konto?"," ",(0,r.jsx)(n.default,{className:"underline",href:"/user/signin",children:"Zaloguj się"})]})]})}},9317:function(e,a,t){"use strict";t.d(a,{AuthProvider:function(){return l},a:function(){return o}});var r=t(7437),s=t(2265),n=t(303),u=t(7619);let i=(0,s.createContext)(null);function l(e){let{children:a}=e,[t,l]=(0,s.useState)(null),[o,d]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,n.Aj)(u.I,e=>{l(e),d(!1)});return()=>e()},[]),(0,r.jsx)(i.Provider,{value:{user:t,loading:o},children:a})}function o(){return(0,s.useContext)(i)}},7619:function(e,a,t){"use strict";t.d(a,{I:function(){return i},db:function(){return l}});var r=t(5236),s=t(303),n=t(9842);let u=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyAq6uVpLDKzYHmbnBujbdPTjQBvCN19kzc",authDomain:"laboratoryfront.firebaseapp.com",projectId:"laboratoryfront",storageBucket:"laboratoryfront.firebasestorage.app",messagingSenderId:"721271593414",appId:"1:721271593414:web:53314b862d1aad224f3ac7",measurementId:"G-QMCDBS8YW2"}),i=(0,s.v0)(u),l=(0,n.ad)(u)},7138:function(e,a,t){"use strict";t.d(a,{default:function(){return s.a}});var r=t(231),s=t.n(r)},6463:function(e,a,t){"use strict";var r=t(1169);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[609,324,231,67,971,23,744],function(){return e(e.s=9993)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340],{9946:function(e,t,a){Promise.resolve().then(a.bind(a,6186))},6186:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i},dynamic:function(){return l}});var n=a(7437),r=a(2265),s=a(9317),o=a(303);let l="force-dynamic";function i(){let{user:e,loading:t}=(0,s.a)(),[a,l]=(0,r.useState)(""),[i,u]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[f,h]=(0,r.useState)(""),[x,b]=(0,r.useState)(!1),w=async t=>{if(t.preventDefault(),p(""),h(""),!(null==e?void 0:e.email)){h("Brak użytkownika / email.");return}if(i.length<6){h("Nowe hasło musi mieć min. 6 znak\xf3w.");return}if(i!==c){h("Nowe hasła nie są takie same.");return}try{b(!0);let t=o.w9.credential(e.email,a);await (0,o.aF)(e,t),await (0,o.gQ)(e,i),p("Hasło zmienione ✅"),l(""),u(""),d("")}catch(e){console.error(e),h((null==e?void 0:e.message)||"Błąd zmiany hasła.")}finally{b(!1)}};return t?(0,n.jsx)("p",{children:"Ładowanie..."}):e?(0,n.jsxs)("div",{className:"max-w-md",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Zmień hasło"}),(0,n.jsxs)("p",{className:"mb-3 text-sm text-gray-500",children:["Email: ",(0,n.jsx)("b",{children:e.email})]}),(0,n.jsxs)("form",{onSubmit:w,className:"flex flex-col gap-3",children:[(0,n.jsx)("input",{className:"border p-2",placeholder:"Aktualne hasło",type:"password",value:a,onChange:e=>l(e.target.value),autoComplete:"current-password"}),(0,n.jsx)("input",{className:"border p-2",placeholder:"Nowe hasło",type:"password",value:i,onChange:e=>u(e.target.value),autoComplete:"new-password"}),(0,n.jsx)("input",{className:"border p-2",placeholder:"Powt\xf3rz nowe hasło",type:"password",value:c,onChange:e=>d(e.target.value),autoComplete:"new-password"}),f&&(0,n.jsx)("p",{className:"text-red-600 text-sm",children:f}),m&&(0,n.jsx)("p",{className:"text-green-600 text-sm",children:m}),(0,n.jsx)("button",{className:"border p-2 bg-gray-900 text-white disabled:opacity-60",disabled:x,type:"submit",children:x?"Zmieniam...":"Zmień hasło"})]})]}):(0,n.jsx)("p",{children:"Nie jesteś zalogowany."})}},9317:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return i},a:function(){return u}});var n=a(7437),r=a(2265),s=a(303),o=a(7619);let l=(0,r.createContext)(null);function i(e){let{children:t}=e,[a,i]=(0,r.useState)(null),[u,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,s.Aj)(o.I,e=>{i(e),c(!1)});return()=>e()},[]),(0,n.jsx)(l.Provider,{value:{user:a,loading:u},children:t})}function u(){return(0,r.useContext)(l)}},7619:function(e,t,a){"use strict";a.d(t,{I:function(){return l},db:function(){return i}});var n=a(5236),r=a(303),s=a(9842);let o=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)({apiKey:"AIzaSyAq6uVpLDKzYHmbnBujbdPTjQBvCN19kzc",authDomain:"laboratoryfront.firebaseapp.com",projectId:"laboratoryfront",storageBucket:"laboratoryfront.firebasestorage.app",messagingSenderId:"721271593414",appId:"1:721271593414:web:53314b862d1aad224f3ac7",measurementId:"G-QMCDBS8YW2"}),l=(0,r.v0)(o),i=(0,s.ad)(o)}},function(e){e.O(0,[609,324,67,971,23,744],function(){return e(e.s=9946)}),_N_E=e.O()}]);
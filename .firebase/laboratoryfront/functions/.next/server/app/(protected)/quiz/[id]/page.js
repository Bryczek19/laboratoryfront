(()=>{var e={};e.id=6,e.ids=[6],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l}),r(7950),r(2844),r(7242),r(1888);var i=r(3191),s=r(8716),a=r(7922),n=r.n(a),o=r(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["(protected)",{children:["quiz",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7950)),"C:\\Users\\Konra\\laboratoryfront\\app\\(protected)\\quiz\\[id]\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2844)),"C:\\Users\\Konra\\laboratoryfront\\app\\(protected)\\layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,7242)),"C:\\Users\\Konra\\laboratoryfront\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,1888)),"C:\\Users\\Konra\\laboratoryfront\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Konra\\laboratoryfront\\app\\(protected)\\quiz\\[id]\\page.js"],u="/(protected)/quiz/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(protected)/quiz/[id]/page",pathname:"/quiz/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8725:(e,t,r)=>{Promise.resolve().then(r.bind(r,7543))},7543:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var i=r(326),s=r(7577),a=r(7335),n=r(5047);function o({html:e}){return i.jsx("div",{dangerouslySetInnerHTML:{__html:e}})}function d({params:e}){let t=(0,n.useRouter)(),[r,d]=(0,s.useState)([]),[c,u]=(0,s.useState)(0),[p,x]=(0,s.useState)({}),[h,m]=(0,s.useState)({}),[f,b]=(0,s.useState)({}),j=(0,s.useMemo)(()=>r.find(t=>t.id===e.id),[r,e.id]),g=j?.questions?.[c];return j?g?(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:j.title}),(0,i.jsxs)("p",{className:"mb-4",children:["Pytanie ",c+1," / ",j.questions.length]}),(0,i.jsxs)("div",{className:"border rounded p-4",children:[i.jsx("h2",{"data-testid":"q-title",className:"text-xl font-semibold mb-2",children:g.title}),i.jsx("div",{"data-testid":"q-body",className:"mb-4",children:i.jsx(o,{html:g.bodyHtml})}),i.jsx(l,{question:g,value:p[g.id],onChange:e=>x(t=>({...t,[g.id]:e})),disabled:!!h[g.id]}),(0,i.jsxs)("div",{className:"mt-4 flex gap-2",children:[i.jsx("button",{"data-testid":"submit",className:"border px-3 py-2",onClick:()=>{let e=function(e,t){if(e.type===a.ce.SINGLE){let r=e.correctOptionIds?.[0];return t&&r&&t===r}if(e.type===a.ce.MULTI){let r=new Set(e.correctOptionIds??[]),i=new Set(t??[]);if(r.size!==i.size)return!1;for(let e of r)if(!i.has(e))return!1;return!0}if(e.type===a.ce.FILL){let r=e.fill,i=t??{};return r.fields.every(e=>i[e.id]===r.correctByFieldId[e.id])}if(e.type===a.ce.MATCH){let r=e.match.pairs,i=t??{};return r.every((e,t)=>i[t]===e.right)}return!1}(g,p[g.id]);m(e=>({...e,[g.id]:!0})),b(t=>({...t,[g.id]:e}))},disabled:!!h[g.id],children:"Zatwierdź"}),i.jsx("button",{"data-testid":"next",className:"border px-3 py-2",onClick:()=>{if(c<j.questions.length-1)u(e=>e+1);else{let e=j.questions.length,r=Object.values(f).filter(Boolean).length;t.push(`/quiz/${j.id}/result?score=${r}&total=${e}`)}},disabled:!h[g.id],children:c<j.questions.length-1?"Następne":"Zakończ"})]}),h[g.id]&&i.jsx("p",{"data-testid":"feedback",className:"mt-3 font-semibold",children:f[g.id]?"✅ Poprawnie":"❌ Błędnie"})]})]}):i.jsx("p",{children:"Quiz nie ma pytań. Dodaj je w panelu."}):i.jsx("p",{children:"Nie znaleziono quizu."})}function l({question:e,value:t,onChange:r,disabled:s}){switch(e.type){case a.ce.SINGLE:return i.jsx(u,{question:e,value:t,onChange:r,disabled:s});case a.ce.MULTI:return i.jsx(p,{question:e,value:t,onChange:r,disabled:s});case a.ce.FILL:return i.jsx(x,{question:e,value:t,onChange:r,disabled:s});case a.ce.MATCH:return i.jsx(h,{question:e,value:t,onChange:r,disabled:s});default:return i.jsx("p",{children:"Nieznany typ pytania."})}}function c(e){return"image"===e.kind?i.jsx("img",{src:e.value,alt:"option",className:"max-h-24 border"}):i.jsx("span",{children:e.value})}function u({question:e,value:t,onChange:r,disabled:s}){let a=t??"";return i.jsx("div",{className:"flex flex-col gap-2","data-testid":"single-area",children:e.options.map((t,n)=>(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[i.jsx("input",{"data-testid":`single-${n}`,type:"radio",name:e.id,checked:a===t.id,disabled:s,onChange:()=>r(t.id)}),c(t)]},t.id))})}function p({question:e,value:t,onChange:r,disabled:s}){let a=new Set(t??[]),n=e=>{let t=new Set(a);t.has(e)?t.delete(e):t.add(e),r(Array.from(t))};return i.jsx("div",{className:"flex flex-col gap-2","data-testid":"multi-area",children:e.options.map((e,t)=>(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[i.jsx("input",{"data-testid":`multi-${t}`,type:"checkbox",checked:a.has(e.id),disabled:s,onChange:()=>n(e.id)}),c(e)]},e.id))})}function x({question:e,value:t,onChange:r,disabled:s}){let a=e.fill,n=t??{},o=(e,t)=>{r({...n,[e]:t})};return i.jsx("div",{"data-testid":"fill-area",className:"flex flex-col gap-3",children:a.fields.map((e,t)=>(0,i.jsxs)("div",{className:"border rounded p-2",children:[i.jsx("div",{className:"font-semibold mb-1",children:e.label}),(0,i.jsxs)("select",{"data-testid":`fill-${t}`,className:"border p-2",value:n[e.id]??"",disabled:s,onChange:t=>o(e.id,t.target.value),children:[i.jsx("option",{value:"",children:"-- wybierz --"}),a.options.map((e,t)=>i.jsx("option",{value:e,children:e},t))]})]},e.id))})}function h({question:e,value:t,onChange:r,disabled:s}){let a=e.match.pairs,n=a.map(e=>e.right),o=t??{},d=(e,t)=>{r({...o,[e]:t})};return i.jsx("div",{"data-testid":"match-area",className:"flex flex-col gap-3",children:a.map((e,t)=>(0,i.jsxs)("div",{className:"border rounded p-2",children:[(0,i.jsxs)("div",{className:"font-semibold mb-1",children:["Dopasuj: ",e.left]}),(0,i.jsxs)("select",{"data-testid":`match-${t}`,className:"border p-2",value:o[t]??"",disabled:s,onChange:e=>d(t,e.target.value),children:[i.jsx("option",{value:"",children:"-- wybierz --"}),n.map((e,t)=>i.jsx("option",{value:e,children:e},t))]})]},t))})}},7335:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>a,Nm:()=>n,ce:()=>s});var i=r(7168);let s={SINGLE:"single",MULTI:"multi",FILL:"fill",MATCH:"match"};function a(e="Nowy quiz"){return{id:(0,i.hQ)(),title:e,questions:[],createdAt:Date.now(),updatedAt:Date.now()}}function n(e){let t={id:(0,i.hQ)(),type:e,title:"Nowe pytanie",bodyHtml:"<p>Treść pytania (HTML)</p>",submitLabel:"Zatwierdź"};if(e===s.SINGLE||e===s.MULTI){let e={id:(0,i.hQ)(),kind:"text",value:"Opcja A"},r={id:(0,i.hQ)(),kind:"text",value:"Opcja B"};return{...t,options:[e,r],correctOptionIds:[e.id]}}if(e===s.FILL){let e={id:(0,i.hQ)(),label:"Pole 1"};return{...t,fill:{options:["A","B","C"],fields:[e],correctByFieldId:{[e.id]:"A"}}}}return e===s.MATCH?{...t,match:{pairs:[{left:"1",right:"jeden"},{left:"2",right:"dwa"}]}}:t}},7168:(e,t,r)=>{"use strict";function i(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}_${Math.random().toString(16).slice(2)}`}function s(){return[]}function a(e){}function n(e){let t=[],r=t.findIndex(t=>t.id===e.id),i=[...t];return -1===r?i.unshift(e):i[r]=e,i}function o(e){return[].filter(t=>t.id!==e)}r.d(t,{GE:()=>o,IE:()=>a,Wd:()=>n,hQ:()=>i,n0:()=>s})},7950:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var i=r(8570);let s=(0,i.createProxy)(String.raw`C:\Users\Konra\laboratoryfront\app\(protected)\quiz\[id]\page.js`),{__esModule:a,$$typeof:n}=s;s.default;let o=(0,i.createProxy)(String.raw`C:\Users\Konra\laboratoryfront\app\(protected)\quiz\[id]\page.js#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[948,673,963],()=>r(4976));module.exports=i})();